from langgraph.prebuilt import create_react_agent

# Your LLM and tools stay exactly the same
llm = ChatOpenAI(model="gpt-4o-mini", temperature=0)

tools = [summarize_patient_record, summarize_policy_guideline, check_claim_coverage]

system_prompt = """You are a Healthcare Insurance Claim Approval Agent.
Use the 3 tools in EXACT order:
1. summarize_patient_record (full JSON)
2. summarize_policy_guideline (policy_id)
3. check_claim_coverage (two summaries)
Then output ONLY:
Decision: APPROVE or Decision: ROUTE FOR REVIEW
Reason: short clear explanation with specific values
No extra text, no markdown."""

# THIS IS THE ONLY LINE YOU NEED NOW (2025 syntax)
agent_executor = create_react_agent(
    model=llm,           # note: "model=", not just "llm,"
    tools=tools,
    state_modifier=system_prompt   # ‚Üê new name, replaces old messages_modifier=
)


==========================================================

